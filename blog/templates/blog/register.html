{% extends 'base.html' %}

{% block title %}注册{% endblock %}

{% block body %}
<div class="am-g">
  <div class="am-u-lg-6 am-u-md-8 am-u-sm-centered">
    <h1 class="am-text-center">注册</h1>
    <hr>
    <div class="am-btn-group">
      <a href="#" class="am-btn am-btn-secondary am-btn-sm"><i class="am-icon-github am-icon-sm"></i> Github</a>
      <a href="#" class="am-btn am-btn-success am-btn-sm"><i class="am-icon-wechat am-icon-sm"></i> WeChat+</a>
      <a href="#" class="am-btn am-btn-primary am-btn-sm"><i class="am-icon-qq am-icon-sm"></i> QQ</a>
    </div>
    <br>
    <br>

    <form method="post" class="am-form" action="{{ url_for('main.register') }}">
      <label for="username">用户名:</label>
      <input type="text" name="username" id="email" value="">
      <br>
      <label for="email">邮箱:</label>
      <input type="email" name="email" id="email" value="">
      <br>
      <label for="password">密码:</label>
      <input type="password" name="password" id="password1" value="">
      <br>
      <label for="password">重复密码:</label>
      <input type="password" name="repeat_password" id="password2" value="">
      <br>
      <label for="remember-me">
        <input id="remember-me" type="checkbox">
        记住密码
      </label>
      <br />
      <div class="am-cf">
          <input type="submit" name="" value="注册并登陆" class="am-btn am-btn-primary am-btn-sm am-fl">
          <a type="submit" name=""  class="am-btn am-btn-default am-btn-sm am-fr">已有密码, 去登陆 </a>
      </div>
    </form>
    <hr>
  </div>
</div>

{% endblock %}


{% block js %}
<script type="text/javascript">

    function check() {
        var username = document.getElementById('username');
        var email =document.getElementById('email');
        var password1 = document.getElementById('password1');
        var password2 = document.getElementById('password2');

        if (username == null || username.value == "")
        {
            alert("用户名不能为空");
            username.focus();
            return false;
        }


        if(email == null || email.valueOf == "") {
           alert("Email值不能为空");
           email.focus();
           return false;
       }

       if(email.value.indexOf("@") == -1 || email.value.indexOf(".") == -1) {
           alert("邮箱格式不正确,必须包含@和.");
           email.focus();
           return false;
       }

        if(password1 == null || password1.value == "") {
           alert("密码不能为空");
          password1.focus();
           return false;
       }

       if(password1.value.length < 6) {
           alert("密码长度必须大于或者等于6");
           password1.focus();
           return false;
       }

       if(password2 == null ||password2.value != password1.value) {
           alert("两次输入的密码不一致");
          password2.focus();
           return false;
       }

       return true;

    }

    </script>
{% endblock %}