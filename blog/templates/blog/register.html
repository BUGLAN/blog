{% extends 'base.html' %}

{% block title %}注册{% endblock %}

{% block body %}
    <div class="am-g">
        <div class="am-u-lg-6 am-u-md-8 am-u-sm-centered">
            <h1 class="am-text-center">注册</h1>
            <hr>
            <div class="am-btn-group">
                <a href="#" class="am-btn am-btn-secondary am-btn-sm"><i class="am-icon-github am-icon-sm"></i>
                    Github</a>
                <a href="#" class="am-btn am-btn-success am-btn-sm"><i class="am-icon-wechat am-icon-sm"></i>
                    WeChat+</a>
                <a href="#" class="am-btn am-btn-primary am-btn-sm"><i class="am-icon-qq am-icon-sm"></i> QQ</a>
            </div>
            <br>
            <br>

            <form method="post" class="am-form" action="{{ url_for('main.register') }}" onsubmit="return check()">
                <label for="username">用户名:</label>
                <input type="text" name="username" id="username" value="">
                <br>
                <label for="email">邮箱:</label>
                <input type="email" name="email" id="email" value="">
                <br>
                <label for="password">密码:</label>
                <input type="password" name="password1" id="password1" value="">
                <br>
                <label for="password">重复密码:</label>
                <input type="password" name="password2" id="password2" value="">
                <br>
                <label for="remember-me">
                    <input id="remember-me" type="checkbox">
                    记住密码
                </label>
                <br/>
                <div class="am-cf">
                    <input type="submit" value="注册并登陆" class="am-btn am-btn-primary am-btn-sm am-fl">
                    <a href="{{ url_for('main.login') }}" class="am-btn am-btn-default am-btn-sm am-fr">已有密码, 去登陆 </a>
                </div>
            </form>
            <hr>
        </div>
    </div>

{% endblock %}


{% block js %}
    <script type="text/javascript">

        function check() {

            var username = $('#username').val();
            var email = $('#email').val();
            var password1 = $('#password1').val();
            var password2 = $('#password2').val();
            if (username.length < 3) {
                alert("账号应大于3位");
                return false;
            }
            if (email === '' || email === null) {
                alert("邮箱为必填项");
                return false;
            }
            if (password1 < 6 || password2 < 6) {
                alert("密码应大于6位");
                return false;
            }
            if (password1 !== password2) {
                alert("两次密码应相同");
                return false;
            }

            return true;
        }

    </script>
{% endblock %}